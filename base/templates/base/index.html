{% extends "main.html" %}

{% load static %}

{% block content %}

    {% if request.user.is_authenticated %}
    
    {% else %}


<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Kadwa:wght@400;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Kadwa:wght@400;700&family=Karma:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
    .text-shadow {
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.25);
    }
    .slider::-webkit-scrollbar {
      display: none;
    }
    .slider-container { position: relative; width: 100vw; height: 100vh; overflow: hidden; display: flex; justify-content: center; align-items: center; 
    } 
    .slider { display: flex; width: calc(100vw * 6); /* duplicate images to loop smoothly */ animation: slide 30s linear infinite; } 
    .slide { width: 100vw; height: 100vh; flex-shrink: 0; position: relative; } 
    .slide img { width: 100%; height: 100%; object-fit: cover; filter: brightness(0.9); box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5); } 
    .divider { position: absolute; top: 0; bottom: 0; left: 50%; width: 3px; background: rgba(255, 255, 255, 0.9); box-shadow: 0 0 15px rgba(255, 255, 255, 0.8); transform: translateX(-50%); z-index: 2; }
    #sliderTrack::-webkit-scrollbar {
      display: none;
    }
    #sliderTrack {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
     @keyframes slide { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }

     .kadwa-regular {
  font-family: "Kadwa", serif;
  font-weight: 400;
  font-style: normal;
}

.kadwa-bold {
  font-family: "Kadwa", serif;
  font-weight: 700;
  font-style: normal;
}
.karma-regular {
  font-family: "Karma", serif;
  font-weight: 400;
  font-style: normal;
}

</style>



  <div class="bg-white flex flex-col  items-center  text-center px-4 mb-5 ">
    <!-- Title Section -->
  <h1 class="kadwa-bold text-2xl lg:text-7xl md:text-5xl  font-extrabold text-red-600 text-shadow tracking-wide mb-2">
    MAHARISHI MARKANDESHWAR
  </h1>
  <h2 class="kadwa-regular text-lg md:text-xl font-semibold text-red-700 italic mb-1">
    (DEEMED TO BE UNIVERSITY)
  </h2>
  <p class="kadwa-regular text-lg md:text-xl text-black font-medium mb-8">
    Established under section 3 of the UGC Act. 1956
  </p>

    <div class="w-full"> 
        <!-- <div class="w-full overflow-hidden relative shadow-xl">
            <div id="sliderTrack" class="flex"> 
                
                <div class="flex-shrink-0 w-full md:w-1/2 lg:w-1/4 p-2 aspect-[2/1] rounded-lg  h-auto">
                    <img src="{% static 'base/assets/img/index1.webp' %}" alt="Image 1" class="w-full h-full rounded-lg object-cover">
                </div>
                
                <div class="flex-shrink-0 w-full md:w-1/2 lg:w-1/4 p-2 aspect-[2/1] h-auto rounded-lg ">
                    <img src="{% static 'base/assets/img/index2.webp' %}" alt="Image 2" class="w-full h-full rounded-lg object-cover">
                </div>
                
                <div class="flex-shrink-0 w-full md:w-1/2 lg:w-1/4 p-2 aspect-[2/1] h-auto rounded-lg ">
                    <img src="{% static 'base/assets/img/index3.webp' %}" alt="Image 3" class="w-full h-full rounded-lg object-cover">
                </div>
                
                <div class="flex-shrink-0 w-full md:w-1/2 lg:w-1/4 p-2 aspect-[2/1] h-auto rounded-lg ">
                    <img src="{% static 'base/assets/img/index4.webp' %}" alt="Image 4" class="w-full h-full rounded-lg object-cover">
                </div>
                                <div class="flex-shrink-0 w-full md:w-1/2 lg:w-1/4 p-2 aspect-[2/1] rounded-lg  h-auto">
                    <img src="{% static 'base/assets/img/index5.webp' %}" alt="Image 1" class="w-full h-full rounded-lg object-cover">
                </div>
                
                <div class="flex-shrink-0 w-full md:w-1/2 lg:w-1/4 p-2 aspect-[2/1] h-auto rounded-lg ">
                    <img src="{% static 'base/assets/img/index6.webp' %}" alt="Image 2" class="w-full h-full rounded-lg object-cover">
                </div>
                
                <div class="flex-shrink-0 w-full md:w-1/2 lg:w-1/4 p-2 aspect-[2/1] h-auto rounded-lg ">
                    <img src="{% static 'base/assets/img/index7.webp' %}" alt="Image 3" class="w-full h-full rounded-lg object-cover">
                </div>
                
                <div class="flex-shrink-0 w-full md:w-1/2 lg:w-1/4 p-2 aspect-[2/1] h-auto rounded-lg ">
                    <img src="{% static 'base/assets/img/index8.webp' %}" alt="Image 4" class="w-full h-full rounded-lg object-cover">
                </div>
            </div>
        </div> -->

        <!-- <div id="sliderTrack" class="flex border-2 overflow-clip "> 
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="1"><img src="{% static 'base/assets/img/index1.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="2"><img src="{% static 'base/assets/img/index2.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="3"><img src="{% static 'base/assets/img/index3.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="4"><img src="{% static 'base/assets/img/index4.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="5"><img src="{% static 'base/assets/img/index5.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="6"><img src="{% static 'base/assets/img/index6.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="7"><img src="{% static 'base/assets/img/index7.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="8"><img src="{% static 'base/assets/img/index8.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="1-CLONE"><img src="{% static 'base/assets/img/index1.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="2-CLONE"><img src="{% static 'base/assets/img/index2.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="3-CLONE"><img src="{% static 'base/assets/img/index3.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="4-CLONE"><img src="{% static 'base/assets/img/index4.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="5-CLONE"><img src="{% static 'base/assets/img/index5.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="6-CLONE"><img src="{% static 'base/assets/img/index6.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
        </div> -->

        <!-- <div class=" mx-auto">

             <div id="sliderWrapper" class="relative overflow-hidden rounded-lg max-h-[50vh]"> 
        
            <div id="sliderTrack" class="flex transition-transform duration-500 ease-in-out"> 
            
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="1"><img src="{% static 'base/assets/img/index1.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="2"><img src="{% static 'base/assets/img/index2.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="3"><img src="{% static 'base/assets/img/index3.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="4"><img src="{% static 'base/assets/img/index4.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="5"><img src="{% static 'base/assets/img/index5.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="6"><img src="{% static 'base/assets/img/index6.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="7"><img src="{% static 'base/assets/img/index7.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="8"><img src="{% static 'base/assets/img/index8.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="1-CLONE"><img src="{% static 'base/assets/img/index1.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="2-CLONE"><img src="{% static 'base/assets/img/index2.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="3-CLONE"><img src="{% static 'base/assets/img/index3.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="4-CLONE"><img src="{% static 'base/assets/img/index4.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="5-CLONE"><img src="{% static 'base/assets/img/index5.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
            <div class="flex-shrink-0 w-full md:w-1/4 lg:w-1/6 p-2 aspect-[2/1] h-auto rounded-lg" data-slide="6-CLONE"><img src="{% static 'base/assets/img/index6.webp' %}" class="w-full h-full rounded-lg object-cover"></div>
        </div>
    </div>
</div> -->

    <div class=" mx-auto">

    <div id="sliderWrapper" class="relative overflow-hidden rounded-lg max-h-[50vh]"> 
        
        <div id="sliderTrack" class="flex transition-transform duration-500 ease-in-out"> 
            
            <div class="flex-shrink-0 w-full md:w-1/3 lg:w-1/4 xl:w-1/6 p-2 rounded-lg" data-slide="1">
                <img src="{% static 'base/assets/img/index1.webp' %}" class="w-full h-full rounded-lg object-cover">
            </div>
            <div class="flex-shrink-0 w-full md:w-1/3 lg:w-1/4 xl:w-1/6 p-2 rounded-lg" data-slide="2">
                <img src="{% static 'base/assets/img/index2.webp' %}" class="w-full h-full rounded-lg object-cover">
            </div>
            <div class="flex-shrink-0 w-full md:w-1/3 lg:w-1/4 xl:w-1/6 p-2 rounded-lg" data-slide="3">
                <img src="{% static 'base/assets/img/index3.webp' %}" class="w-full h-full rounded-lg object-cover">
            </div>
            <div class="flex-shrink-0 w-full md:w-1/3 lg:w-1/4 xl:w-1/6 p-2 rounded-lg" data-slide="4">
                <img src="{% static 'base/assets/img/index4.webp' %}" class="w-full h-full rounded-lg object-cover">
            </div>
            <div class="flex-shrink-0 w-full md:w-1/3 lg:w-1/4 xl:w-1/6 p-2 rounded-lg" data-slide="5">
                <img src="{% static 'base/assets/img/index5.webp' %}" class="w-full h-full rounded-lg object-cover">
            </div>
            <div class="flex-shrink-0 w-full md:w-1/3 lg:w-1/4 xl:w-1/6 p-2 rounded-lg" data-slide="6">
                <img src="{% static 'base/assets/img/index6.webp' %}" class="w-full h-full rounded-lg object-cover">
            </div>
            <div class="flex-shrink-0 w-full md:w-1/3 lg:w-1/4 xl:w-1/6 p-2 rounded-lg" data-slide="7">
                <img src="{% static 'base/assets/img/index7.webp' %}" class="w-full h-full rounded-lg object-cover">
            </div>
            <div class="flex-shrink-0 w-full md:w-1/3 lg:w-1/4 xl:w-1/6 p-2 rounded-lg" data-slide="8">
                <img src="{% static 'base/assets/img/index8.webp'}" class="w-full h-full rounded-lg object-cover">
            </div>
            
            <div class="flex-shrink-0 w-full md:w-1/3 lg:w-1/4 xl:w-1/6 p-2 rounded-lg" data-slide="1-CLONE">
                <img src="{% static 'base/assets/img/index1.webp' %}" class="w-full h-full rounded-lg object-cover">
            </div>
            <div class="flex-shrink-0 w-full md:w-1/3 lg:w-1/4 xl:w-1/6 p-2 rounded-lg" data-slide="2-CLONE">
                <img src="{% static 'base/assets/img/index2.webp' %}" class="w-full h-full rounded-lg object-cover">
            </div>
            <div class="flex-shrink-0 w-full md:w-1/3 lg:w-1/4 xl:w-1/6 p-2 rounded-lg" data-slide="3-CLONE">
                <img src="{% static 'base/assets/img/index3.webp' %}" class="w-full h-full rounded-lg object-cover">
            </div>
            <div class="flex-shrink-0 w-full md:w-1/3 lg:w-1/4 xl:w-1/6 p-2 rounded-lg" data-slide="4-CLONE">
                <img src="{% static 'base/assets/img/index4.webp' %}" class="w-full h-full rounded-lg object-cover">
            </div>
            <div class="flex-shrink-0 w-full md:w-1/3 lg:w-1/4 xl:w-1/6 p-2 rounded-lg" data-slide="5-CLONE">
                <img src="{% static 'base/assets/img/index5.webp' %}" class="w-full h-full rounded-lg object-cover">
            </div>
            <div class="flex-shrink-0 w-full md:w-1/3 lg:w-1/4 xl:w-1/6 p-2 rounded-lg" data-slide="6-CLONE">
                <img src="{% static 'base/assets/img/index6.webp' %}" class="w-full h-full rounded-lg object-cover">
            </div>
        </div>
    </div>
</div>

 


  </div>
</div>

 {% endif %}


<!-- {% include 'base/newsletter_component.html' %} -->

<!-- space for slider  -->


<h2 class=" mx-10 font-extrabold text-xl">Upcoming Events:</h2>
{% include 'base/event_component.html' %}
<a href="{% url 'upcoming_events' %}" class=" mx-10 font-extrabold text-xl">See all Upcoming Events</a>
<hr>
<a href="{% url 'past_events' %}" class=" mx-10 font-extrabold text-xl">See all Past Events</a>

<script>
   document.addEventListener('DOMContentLoaded', () => {
    const sliderTrack = document.getElementById('sliderTrack');
    
    // Constants based on your HTML structure
    const ORIGINAL_SLIDE_COUNT = 8; 
    const CLONE_COUNT = 6;
    const TOTAL_ELEMENTS = ORIGINAL_SLIDE_COUNT + CLONE_COUNT; // 14
    
    // State variables
    let currentSlide = 0; // Tracks the current step position (0 to 8)
    const slideInterval = 3500;
    const SMOOTH_TRANSITION = 'transform 0.5s ease-in-out';

    // --- Helper Functions ---

    function getSlidesVisible() {
        const width = window.innerWidth;
        
        // Must match your Tailwind classes: lg:w-1/6, md:w-1/4, default: w-full (1/1)
        if (width >= 1024) { 
            return 6; 
        } else if (width >= 768) {
            return 4; 
        } else {
            return 1; 
        }
    }

    function setupSlider() {
        const slidesVisible = getSlidesVisible();
        
        // Calculate the total width of the track based on how many "step-widths" it contains.
        // Each element has a width of (100 / slidesVisible)%. The track holds TOTAL_ELEMENTS.
        const elementWidthPercentage = 100 / slidesVisible;
        const trackWidth = TOTAL_ELEMENTS * elementWidthPercentage; 
        sliderTrack.style.width = `${trackWidth}%`;
        
        // Reset position to the start of the ORIGINAL slides (currentSlide 0)
        currentSlide = 0; 
        sliderTrack.style.transition = 'none';
        sliderTrack.style.transform = `translateX(0)`;
    }

    function nextSlide() {
        const slidesVisible = getSlidesVisible();
        // The shift amount is the width of ONE slide item in relation to the visible track (100%)
        const shiftAmount = 100 / slidesVisible; 
        
        currentSlide++;

        // 1. Check for Infinite Loop Reset (Moved onto the clones)
        // We trigger the jump when the next move would show the first clone set.
        if (currentSlide > ORIGINAL_SLIDE_COUNT) {
            
            // A. Jump back: Snap instantly to the correct starting position (currentSlide = 0)
            // Remove transition for an immediate visual "snap"
            sliderTrack.style.transition = 'none'; 
            sliderTrack.style.transform = `translateX(0)`; 
            currentSlide = 0;

            // B. Prepare for the next animated move:
            // Use a slight delay (0ms works, but 50ms ensures render frame separates the snap and the move)
            setTimeout(() => {
                // Now, execute the move to the NEXT slide (original slide 1)
                currentSlide = 1; 
                sliderTrack.style.transition = SMOOTH_TRANSITION;
                let offset = currentSlide * shiftAmount;
                sliderTrack.style.transform = `translateX(-${offset}%)`;
            }, 50); 
            
        } else {
            // 2. Normal Smooth Slide
            sliderTrack.style.transition = SMOOTH_TRANSITION; 
            let offset = currentSlide * shiftAmount;
            sliderTrack.style.transform = `translateX(-${offset}%)`;
        }
    }

    // --- Execution ---

    setupSlider();
    
    // Start the automatic sliding interval
    let sliderIntervalId = setInterval(nextSlide, slideInterval);

    // Resize listener (Debounce is good practice)
    let resizeTimer;
    window.addEventListener('resize', () => {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(() => {
            // Re-setup slider (resets track width and position)
            setupSlider();
            
            // Restart the interval to ensure it uses the new slidesVisible calculation
            clearInterval(sliderIntervalId);
            sliderIntervalId = setInterval(nextSlide, slideInterval);
        }, 250); 
    });
});

function getVisibleCount() {
    // 🟢 CHANGE: If screen is smaller than 768px (md), return 1
    if (window.innerWidth < 768) return 1; // w-full on mobile
    
    if (window.innerWidth >= 1280) return 6; // xl:w-1/6
    if (window.innerWidth >= 1024) return 4; // lg:w-1/4
    // Screens between 768px and 1024px
    return 3;  // md:w-1/3
}

function updateSliderPosition() {
    const visibleCount = getVisibleCount();
    
    // Calculate the width of one slide: 100% / 1 = 100% (for mobile)
    const slideWidthPercentage = 100 / visibleCount; 
    
    const offset = currentIndex * slideWidthPercentage;
    
    // Apply the transformation
    sliderTrack.style.transform = `translateX(-${offset}%)`;

    // ... (rest of the infinite loop logic remains the same) ...
    // --- Infinite Loop Logic (Jumping to Clone) ---
    if (currentIndex >= totalSlides) {
        setTimeout(() => {
            sliderTrack.style.transition = 'none';
            // The jump index logic needs to be robust for all counts:
            // For a continuous loop, if we advance past the last true item (index 7), 
            // we jump back to the start (index 0).
            currentIndex = 0; 
            sliderTrack.style.transform = `translateX(-${currentIndex * slideWidthPercentage}%)`;
            
            // Re-enable transition after the jump
            setTimeout(() => {
                sliderTrack.style.transition = 'transform 0.5s ease-in-out';
            }, 50);
        }, 500); // Wait for the transition duration to complete
    }
}

// ... (rest of the autoAdvance and resize event listeners) ...
</script>

<!-- 
<script>
     document.addEventListener('DOMContentLoaded', () => {
            const sliderTrack = document.getElementById('sliderTrack');
            const slideCount = sliderTrack.children.length; 
            let currentSlide = 0; 
            const slideInterval = 3500;
            const SMOOTH_TRANSITION = 'transform 0.5s ease-in-out';
        
            function getSlidesVisible() {
    const width = window.innerWidth;
    
    // Tailwind default breakpoints: md: 768px, lg: 1024px
    if (width >= 1024) { 
        return 4; // Lg: screens and up (6 slides visible)
    } else if (width >= 768) {
        return 2; // Md: screens (4 slides visible)
    } else {
        return 1; // Default (mobile)
    }
}
        
            function setupSlider() {
                const slidesVisible = getSlidesVisible();
                const trackWidth = (slideCount / slidesVisible) * 100;
                sliderTrack.style.width = `${trackWidth}%`;
                
                currentSlide = 0;
                sliderTrack.style.transition = 'none';
                sliderTrack.style.transform = `translateX(0)`;
            }
        
            function nextSlide() {
                const slidesVisible = getSlidesVisible();
                const shiftAmount = 100 / slidesVisible; 
                const maxShiftIndex = Math.ceil(slideCount - slidesVisible);
                
                currentSlide++;
        
                if (currentSlide > maxShiftIndex) {
                    currentSlide = 0;
                    sliderTrack.style.transition = 'none'; 
                    
                    setTimeout(() => {
                        sliderTrack.style.transition = SMOOTH_TRANSITION;
                    }, 50); 
                } else {
                    sliderTrack.style.transition = SMOOTH_TRANSITION; 
                }
                
                let offset = currentSlide * shiftAmount;
                
                if (currentSlide === maxShiftIndex) {
                    offset = maxShiftIndex * shiftAmount;
                }
        
                sliderTrack.style.transform = `translateX(-${offset}%)`;
            }
        
            setupSlider();
            
            let sliderIntervalId = setInterval(nextSlide, slideInterval);
        
            let resizeTimer;
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimer);
                resizeTimer = setTimeout(() => {
                    setupSlider();
                    
                    clearInterval(sliderIntervalId);
                    sliderIntervalId = setInterval(nextSlide, slideInterval);
                }, 250); 
            });
        });

  </script> -->

{% endblock content %}

